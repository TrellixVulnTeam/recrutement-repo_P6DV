<app-layout>


  <section class="section-hero overlay inner-page bg-image" header
           id="home-section" style="background-image: url('assets/images/hero_1.jpg');">
    <div class="container">

      <div class="row align-items-center justify-content-center">
        <div class="col-md-12">
          <div class="mb-5 text-center">
            <h1 class="text-white font-weight-bold">Le moyen le plus simple d'obtenir l'emploi de vos rêves</h1>
            <p></p>
          </div>
          <div class="search-jobs-form">
            <div class="row mb-5">
              <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-4 mb-lg-0">
                <input type="text" class="form-control form-control-lg" [(ngModel)]="searchRequest.keyword"
                       placeholder="Titre, Société, Spécialité...">
              </div>
              <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-4 mb-lg-0">
                <select  [(ngModel)]="searchRequest.pays" class="form-control form-control-lg"

                        data-width="100%" data-live-search="true" >
                  <option [ngValue]="null"></option>
                  <option [ngValue]="pay"  *ngFor="let pay of pays" >{{pay.libelle}}</option>

                </select>
              </div>
              <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-4 mb-lg-0">
                <select class="form-control form-control-lg" [(ngModel)]="searchRequest.disponibilite">
                  <option value=""></option>
                  <option value="Plein temps">Plein temps</option>
                  <option value="Temps partiel">Temps partiel</option>
                </select>
              </div>
              <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-4 mb-lg-0">
                <button (click)="chercher()" class="btn btn-primary btn-lg btn-block text-white btn-search"><span class="icon-search icon mr-2"></span>Chercher</button>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>
  <section stat class="py-5 bg-image overlay-primary fixed overlay" id="next"
           style="background-image: url('assets/images/hero_1.jpg');">
    <div class="container">
      <div class="row mb-5 justify-content-center">
        <div class="col-md-7 text-center">
          <h2 class="section-title mb-2 text-white">Statistique</h2>
        </div>
      </div>
      <div class="row pb-0 block__19738 section-counter">
        <div class="col-6 col-md-6 col-lg-3 mb-5 mb-lg-0">
          <div class="d-flex align-items-center justify-content-center mb-2">
            <strong *ngIf="counts" class="number" >{{counts[0]}}</strong>
          </div>
          <span class="caption">Candidats</span>
        </div>

        <div class="col-6 col-md-6 col-lg-3 mb-5 mb-lg-0">
          <div class="d-flex align-items-center justify-content-center mb-2">
            <strong *ngIf="counts" class="number" >{{counts[1]}}</strong>
          </div>
          <span class="caption">Offres</span>
        </div>

        <div class="col-6 col-md-6 col-lg-3 mb-5 mb-lg-0">
          <div class="d-flex align-items-center justify-content-center mb-2">
            <strong *ngIf="counts" class="number" >{{counts[2]}}</strong>
          </div>
          <span class="caption">Candidatures</span>
        </div>

        <div class="col-6 col-md-6 col-lg-3 mb-5 mb-lg-0">
          <div class="d-flex align-items-center justify-content-center mb-2">
            <strong *ngIf="counts" class="number" >{{counts[3]}}</strong>
          </div>
          <span class="caption">Sociétés</span>
        </div>
      </div>
    </div>
  </section>



  <div body class="col-lg-12">

    <section class="site-section">
      <div class="container">

        <div class="row mb-5 justify-content-center">
          <div class="col-md-7 text-center">
            <h2 class="section-title mb-2">{{offres.length}} offre disponibles</h2>
          </div>
        </div>

        <ul class="job-listings mb-5">
          <li class="job-listing d-block d-sm-flex pb-3 pb-sm-0 align-items-center"
              *ngFor="let offre of offres">
            <a href="job-single.html"></a>
            <div class="job-listing-logo">
              <img style="width: 150px; height: 150px" [src]="offre.societe.logo? 'data:image/png;base64,'+offre.societe.logo : '/assets/images/empty.png'" alt="Free Website Template by Free-Template.co" class="img-fluid">
            </div>

            <div class="job-listing-about d-sm-flex custom-width w-100 justify-content-between mx-4">
              <div class="job-listing-position custom-width w-50 mb-3 mb-sm-0">
                <h2>{{offre.titre}}</h2>
                <strong>{{offre.societe.raisonSocial}}</strong>
              </div>
              <div class="job-listing-location mb-3 mb-sm-0 custom-width w-25">
                <span class="icon-room"></span> {{offre?.societe?.ville?.pays?.libelle}}, {{offre?.societe?.ville?.libelle}}
              </div>
              <div class="job-listing-meta">
                <span class="badge {{offre.disponibiite === 'Plein temps'? 'badge-success': 'badge-danger'}}">{{offre.disponibiite}}</span>
              </div>
            </div>

          </li>




        </ul>


      </div>
    </section>




  </div>


</app-layout>
