<div class="card">
  <div class="card-header">


    <strong>Candidat</strong>


  </div>

  <div class="card-body">


    <p-table [value]="candidats" dataKey="id">
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 3rem"></th>
          <th>Candidat</th>
          <th>Email</th>
          <th width="12%">Téléphone</th>
          <th width="10%">Etat</th>

        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-row let-expanded="expanded">
        <tr>
          <td>
            <button type="button"
                    pButton pRipple [pRowToggler]="row"
                    class="p-button-text p-button-rounded p-button-plain"
                    [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'">
            </button>
          </td>
          <td>{{row.nom}} {{row.prenom}}</td>

          <td>{{row.email}}</td>
          <td>{{row.telephone}}</td>
          <td>
            <p-inputSwitch [(ngModel)]="row.enabled" (onChange)="changeEtat(row)"></p-inputSwitch>
          </td>

        </tr>
      </ng-template>

      <ng-template pTemplate="rowexpansion" let-row>
        <tr>
          <td colspan="5">
        <table class="table">
          <thead>
          <tr>
            <th>Date de naissance</th>
            <th>Pays</th>
            <th>Ville</th>
            <th width="50%">Adresse</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>{{row.dateNaissance | date: 'dd/MM/yyyy'}}</td>
            <td>{{row?.ville?.pays?.libelle}}</td>
            <td>{{row?.ville?.libelle}}</td>
            <td>{{row?.addresse}}</td>
          </tr>
          </tbody>

        </table>
          </td>
        </tr>
      </ng-template>


    </p-table>


  </div>


</div>

