<app-layout>


  <section  header class="section-hero overlay inner-page bg-image" style="background-image: url('assets/images/hero_1.jpg');" id="home-section">
    <div class="container">
      <div class="row">
        <div class="col-md-7">
          <h1 class="text-white font-weight-bold">Détail offre</h1>

        </div>
      </div>
    </div>
  </section>

  <div body class="col-lg-12">

    <div class="row align-items-center mb-5">
      <div class="col-lg-8 mb-4 mb-lg-0">
        <div class="d-flex align-items-center">
          <div class="p-2 d-inline-block mr-3 rounded">

            <img style="width: 150px; height: 150px" [src]="offre?.societe?.logo? 'data:image/png;base64,'+offre?.societe?.logo : '/assets/images/empty.png'" alt="Image">
          </div>
          <div>
            <h2>{{offre.titre}}</h2>
            <div>
              <span class="ml-0 mr-2 mb-2"><span class="icon-briefcase mr-2"></span>{{offre?.societe?.raisonSocial}}</span>
              <span class="m-2"><span class="icon-room mr-2"></span>{{offre?.societe?.ville?.pays?.libelle}}</span>
              <span class="m-2"><span class="icon-clock-o mr-2"></span><span class="text-primary">{{offre?.disponibiite}}</span></span>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="row">
          <div class="col-6">
          </div>
          <div class="col-6">
            <a *ngIf="displayPostule()"  class="btn btn-block btn-primary btn-md" (click)="postuler(offre)">Postuler</a>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-8">
        <div class="mb-5">
          <figure class="mb-5"><img style="width: 730px ; height: 485px" [src]="'data:image/png;base64,'+offre.image" alt="Image" class="img-fluid rounded"></figure>
          <h3 class="h5 d-flex align-items-center mb-4 text-primary"><span class="icon-align-left mr-3"></span>Déscription</h3>
          <p>{{offre.description}}</p>
        </div>
        <div class="mb-5">
          <h3 class="h5 d-flex align-items-center mb-4 text-primary"><span class="icon-road mr-3"></span>Compétences</h3>
          <ul class="list-unstyled m-0 p-0">
            <li *ngFor="let spec of offre?.specialites" class="d-flex align-items-start mb-2"><span class="icon-check_circle mr-2 text-muted"></span><span>{{spec.libelle}}</span></li>
          </ul>
        </div>

        <div class="mb-5">
          <h3 class="h5 d-flex align-items-center mb-4 text-primary"><span class="icon-book mr-3"></span>Langues</h3>
          <ul class="list-unstyled m-0 p-0">
            <li *ngFor="let lng of offre?.langues" class="d-flex align-items-start mb-2"><span class="icon-check_circle mr-2 text-muted"></span><span>{{lng.libelle}}</span></li>
          </ul>
        </div>

        <div class="mb-5">
          <h3 class="h5 d-flex align-items-center mb-4 text-primary"><span class="icon-turned_in mr-3"></span>Type de poste</h3>
          <ul class="list-unstyled m-0 p-0">
            <li *ngFor="let pst of offre?.typePostes" class="d-flex align-items-start mb-2"><span class="icon-check_circle mr-2 text-muted"></span><span>{{pst.libelle}}</span></li>

          </ul>
        </div>


      </div>
      <div class="col-lg-4">
        <div class="bg-light p-3 border rounded mb-4">
          <h3 class="text-primary  mt-3 h5 pl-3 mb-3 ">Détails de l'annonce</h3>
          <ul class="list-unstyled pl-3 mb-0">
            <li class="mb-2"><strong class="text-black">Publée le:</strong> {{offre.dateCreation | date: 'dd MMMM yyyy'}}</li>
            <li class="mb-2"><strong class="text-black">Lieu de travail:</strong> {{offre?.societe?.ville?.pays?.libelle}} , {{offre?.societe?.ville?.libelle}} </li>
            <li class="mb-2"><strong class="text-black">Disponibilité:</strong> {{offre.disponibiite}}</li>
            <li class="mb-2"><strong class="text-black">Salaire:</strong> {{offre.salaire}}</li>
            <li class="mb-2"><strong class="text-black">Experience:</strong> {{offre.niveauExperience}}</li>
            <li class="mb-2"><strong class="text-black">Niveau d'étude:</strong> {{offre.niveauEtude}}</li>

            <li class="mb-2"><strong class="text-black">Expirée le :</strong> {{offre.dateExpiration | date: 'dd MMMM yyyy'}}</li>
          </ul>
        </div>

        <div class="bg-light p-3 border rounded">
          <h3 class="text-primary  mt-3 h5 pl-3 mb-3 ">Société</h3>
          <ul class="list-unstyled pl-3 mb-0">
            <li class="mb-2"><strong class="text-black">Registre de commerce :</strong> {{offre?.societe?.registreCommerce}}</li>
            <li class="mb-2"><strong class="text-black">Matricule fiscale :</strong> {{offre?.societe?.matriculeFiscal}}</li>
            <li class="mb-2"><strong class="text-black">Email :</strong> {{offre?.societe?.email}}</li>
            <li class="mb-2"><strong class="text-black">Téléphone :</strong> {{offre?.societe?.telephone}}</li>
            <li class="mb-2"><strong class="text-black">Taille :</strong> {{offre?.societe?.taille}}</li>

            <li class="mb-2"><strong class="text-black">Site web :</strong> <a [href]="'http://'+offre?.societe?.siteWeb" target="_blank" >{{offre?.societe?.siteWeb}}</a></li>

          </ul>
        </div>

      </div>
    </div>


  </div>


</app-layout>
